{"version":3,"file":"plugin.js","sources":["esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class FileSelectorWeb extends WebPlugin {\n    constructor() {\n        super({\n            name: 'FileSelector',\n            platforms: ['web', 'android', 'ios'],\n        });\n        this.ACCEPT_TYPES = new Map([['*', 'image/*,video/*,audio/*'], ['images', 'image/*,'],\n            ['videos', 'video/*,'], ['audios', 'audio/*,']]);\n    }\n    fileSelector(options) {\n        if (typeof this.fileSelectorInput === 'undefined') {\n            this.fileSelectorInput = document.createElement('INPUT');\n            this.fileSelectorInput.hidden = true;\n            this.fileSelectorInput.setAttribute('type', 'file');\n            this.fileSelectorInput.setAttribute('id', (options === null || options === void 0 ? void 0 : options.id) ? options === null || options === void 0 ? void 0 : options.id : 'filePicker');\n            let accept = '';\n            options.ext.forEach(element => {\n                if (this.ACCEPT_TYPES.has(element)) {\n                    accept = accept.concat(this.ACCEPT_TYPES.get(element));\n                    options.ext = options.ext.filter(option => option !== element);\n                }\n            });\n            options.ext = options.ext.map(v => '.' + v);\n            accept = accept.concat(options.ext.join(','));\n            this.fileSelectorInput.setAttribute('accept', accept);\n            if (options.multipleSelection) {\n                this.fileSelectorInput.setAttribute('multiple', 'true');\n            }\n        }\n        this.fileSelectorInput.addEventListener('change', (event) => {\n            if ((document != null) && (typeof this.fileSelectorInput !== 'undefined')) {\n                event.stopPropagation();\n                this.notifyListeners('onFilesSelected', this.fileSelectorInput.files);\n                this.removeAllListeners();\n            }\n        });\n        this.fileSelectorInput.value = '';\n        this.fileSelectorInput.click();\n        return Promise.resolve(this.fileSelectorInput);\n    }\n}\nconst FileSelector = new FileSelectorWeb();\nexport { FileSelector };\nimport { registerWebPlugin } from '@capacitor/core';\nregisterWebPlugin(FileSelector);\n//# sourceMappingURL=web.js.map"],"names":["WebPlugin","registerWebPlugin"],"mappings":"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"}